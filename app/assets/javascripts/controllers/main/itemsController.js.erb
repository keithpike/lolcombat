myApp.controller('ItemsController',['$scope', '$resource', function($scope, $resource){
	$scope.isLoading = false;
	$scope.images = [];
	var resource = $resource(
		"/v1/items",
		{
			// callback: "JSON_CALLBACK"
		},
		{
			getImages: {
				method: "GET"
			}
		}
	);

	loadRemoteData();

	$scope.add = function(el, idx, arr){
		console.log("<%= path_to_image('lol/items/" + el.image.full + "') %>")
		$scope.images.push("app/assets/lol/items/" + el.image.full);
	}

	$scope.addArrayElements = function(items){
		items.items.forEach($scope.add);
		debugger
	}

	$scope.remove = function(index){
		$scope.images.splice(index, 1);
	}

	$scope.getImages = function(){
		loadRemoteData();
	}

	function loadRemoteData(){
		$scope.isLoading = true;
		resource.getImages().$promise.then(
			function( apiResponses ){
				$scope.isLoading = false;
				debugger
				$scope.addArrayElements(apiResponses);
			},
			function( error ){
				alert("wtf!");
			}
		);
	}

}]);